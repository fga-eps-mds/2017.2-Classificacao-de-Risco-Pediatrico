{% extends 'layout/layout.html' %}
{% load staticfiles %}

{% block head %}
    <link rel="stylesheet" href="{% static "css/main.css" %}">
{% endblock %}

{% block js %}
    <script src="{% static "js/tab.js" %}"></script>
{% endblock %}

{% block login-button %}
{% endblock %}

{% block content %}
<div class="mainLogo">
  <img src="/static/img/LogoCRP.png" width="330" height="150" alt="">
</div>
<div class="boxLogin">
  <div class="box rounded float-right">
   <h1 class="display-4">Login</h1><br />
   <form role="form" class="form" method="POST" >
      {% csrf_token %}

       <input type="hidden" name="user_type" id="user_type" value="Admin">

      <div class="errortext">
        {{ form.non_field_errors }}
      </div>
      <ul class="nav nav-tabs" id="crp-tab" role="tablist">
         <li class="nav-item">
            <a id='tab1' class="nav-link active" data-toggle="tab" href="#home">Admin</a>
         </li>
         <li class="nav-item">
            <a id='tab2' class="nav-link" data-toggle="tab" href="#profile" role="tab">Atendente</a>
         </li>
         <li class="nav-item">
            <a id='tab3' class="nav-link" data-toggle="tab" href="#messages" role="tab">Recepcionista</a>
         </li>
      </ul>
      <div class="tab-content">
         <div class="tab-pane active" id="home" role="tabpanel">
         </div>
         <div class="tab-pane" id="profile" role="tabpanel">
         </div>
         <div class="tab-pane" id="messages" role="tabpanel">
            <input type="hidden" name="class_type" value="admin">
         </div>
      </div>
      <div id="login-form-group">
         <div class="form-group">
            {{ form.username.label_tag }}
            <input  type="email" name="{{ form.username.name }}" class="rounded" id="{{ form.username.id_for_label }}"  placeholder="exemplo@exemplo.com" required>
            {{ field.errors }}
         </div>
         <div class="form-group">
            {{ form.password.label_tag }}
            <input  type="password" name="{{ form.password.name }}" class="rounded" id="{{ form.password.id_for_label }}"  placeholder="*******" required>
            {{ field.errors }}
         </div>
      </div>
      <button type="submit" class="btn btn-outline-secondary btn-lg float-right"><i class="fa fa-plus" aria-hidden="true"></i> Login</button>
   </form>
 </div>
</div>

    <script>
        (function() {
            var user_type = document.querySelector('#user_type');
            var admin = document.querySelector('#tab1');
            var aten = document.querySelector('#tab2');
            var recep = document.querySelector('#tab3');

            admin.addEventListener('click', () => user_type.value = "Admin");
            aten.addEventListener('click', () => user_type.value = "Atendente");
            recep.addEventListener('click', () => user_type.value = "Recepcionista");
        }) ();


    </script>

{% endblock %}
